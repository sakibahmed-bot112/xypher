let lastResponse = null;

module.exports = {
  config: {
    name: "goiadmin",
    author: "xos",
    role: 0,
    shortDescription: "Owner Mention Protection",
    longDescription: "Prevents unnecessary mentions of Eren",
    category: "BOT",
    guide: "{pn}"
  },

  onChat: async function({ api, event }) {
    const authorIDs = [
      "61578232451035",
      "61558166309783",
      "61572589774495",
      "100027116303378"
    ];

    const mentions = Object.keys(event.mentions || {});
    const isMentioningProtected = mentions.some(id => authorIDs.includes(id));
    const isSenderProtected = authorIDs.includes(event.senderID);

    if (!isSenderProtected && isMentioningProtected) {
      const responses = [
        " - à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à§‡ à¦¬à¦¸ à¦†à¦¸à¦¿à¦«, à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à¦¿à¦¸ à¦¨à¦¾..!ðŸ™‚",
        "- à¦®à§‡à¦¨à¦¶à¦¨ à¦¨à¦¾ à¦¦à¦¿à§Ÿà¦¾, à¦à¦•à¦Ÿà¦¾ à¦¬à§‡à¦¡à¦¿ à¦¦à§‡ à¦¬à¦¸ à¦°à§‡..!ðŸ˜ª",
        " - à¦¬à¦¾à¦° à¦¬à¦¾à¦° à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à¦¿à¦²à§‡ à¦•à¦¿à¦¨à§à¦¤à§, à¦¬à¦¸ à¦à¦¸à§‡ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦¦à§à¦›à§‡ à¦¦à¦¿à¦¬à§‡..!",
        "- à¦“à¦° à¦¬à¦‰ à¦¹à¦¤à§‡ à¦šà¦¾à¦“ à¦¦à§‡à¦–à§‡ à¦®à§‡à¦¨à¦¶à¦¨ à¦®à¦¾à¦°à¦¤à§‡à¦¸à§‹..!ðŸ¤”",
        "- à¦†à¦¬à§‡ à¦¸à¦¾à¦²à¦¾ à¦¤à§‹à¦°à¦¾ à¦¨à§‡à¦•à¦¾à¦®à¦¿ à¦•à¦°à¦¬à¦¿ à¦†à¦° à¦†à¦¸à¦¿à¦« à¦•à§‡ à¦¡à¦¾à¦•à¦¬à¦¿ à¦•à§‡à¦¨..!ðŸ˜¾",
        "- à¦†à¦¸à¦¿à¦« à¦­à¦¾à¦‡ à¦­à¦¾à¦²à§‹ à¦¨à§‡à¦‡, à¦•à¦¾à¦°à¦¨ à¦¬à¦‰ à¦¨à§‡à¦‡..!ðŸ™‚",
        "- à¦†à¦¸à¦¿à¦« à¦¬à¦¸ à¦à¦–à¦¨ à¦¬à¦¿à¦œà¦¿ à¦¯à¦¾ à¦¬à¦²à¦¾à¦° à¦†à¦®à¦¾à¦•à§‡ à¦¬à¦²à¦¤à§‡ à¦ªà¦¾à¦°à§‹.!ðŸ˜¼",
        "- à¦¤à¦°à¦¾ à¦®à¦¾à¦°à¦¾ à¦®à¦¾à¦°à¦¿ à¦•à¦°à¦¬à¦¿, à¦¬à¦¸ à¦†à¦¸à¦¿à¦« à¦•à§‡ à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à¦¿à¦¬à¦¿ à¦•à§‡à¦¨ ðŸ¤£",
        "- à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦¨à¦¾à¦¹ à¦¸à¦¿à¦‚à¦—à§‡à¦² à¦†à¦¸à¦¿à¦« à¦°à§‡ à¦à¦•à¦Ÿà¦¾ à¦—à¦« à¦¦à§‡..!ðŸ˜’",
        "- à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à¦¿à¦¸ à¦¨à¦¾ à¦¬à§œ à¦­à¦¾à¦‡ à¦†à¦¸à¦¿à¦« à¦à¦° à¦®à¦¨ à¦®à¦¨ à¦­à¦¾à¦²à§‹ à¦¨à§‡à¦‡ à¦†à¦¸à§à¦•à§‡..!ðŸ’”",
        "- à¦®à§‡à¦¨à¦¶à¦¨ à¦®à¦¾à¦°à¦¾à¦° à¦†à¦—à§‡ à¦­à§‡à¦¬à§‡ à¦¨à§‡, à¦¬à¦‰ à¦¦à¦¿à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à¦¿ à¦•à¦¿ à¦¨à¦¾..!ðŸ˜¤",
        "- à¦‡à¦­à¦¾à¦¨ à¦°à§‡ à¦à¦¤ à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡à¦“à§Ÿà¦¾à¦° à¦®à¦¾à¦¨à§‡ à¦•à¦¿..!ðŸ™„",
        "- à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡à¦“à§Ÿà¦¾à¦° à¦†à¦—à§‡, à¦¬à§‡à¦¡à¦¿ à¦¦à§‡ à¦ªà¦°à§‡ à¦•à¦¥à¦¾ à¦¬à¦²..!ðŸ˜’",
        "- à¦…à¦¨à¦¿à¦• à¦¬à§‡à¦¡à¦¿ à¦¨à¦¿à§Ÿà¦¾ à¦•à¦Ÿ à¦–à¦¾à¦‡à¦›à§‡, à¦¬à¦¸ à¦“à¦°à§‡ à¦¬à¦¾à¦à¦šà¦¾à¦‡à¦¤à§‡ à¦—à§‡à¦›à§‡..!ðŸ¥²",
        "- à¦¬à¦‰ à¦¨à¦¾ à¦¦à¦¿à¦¤à§‡ à¦ªà¦¾à¦°à¦²à§‡, à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à¦¿à¦¸ à¦¨à¦¾, à¦¯à¦¾ à¦­à¦¾à¦—..!ðŸ˜Š",
        "- à¦‡à¦­à¦¾à¦¨ à¦­à¦¾à¦‡ à¦¬à¦‰ à¦–à§à¦œà¦¤à§‡ à¦—à§‡à¦›à§‡ à¦ªà¦¾à¦  à¦•à§à¦·à§‡à¦¤à§‡..!ðŸ¤¡",
        "- à¦¬à¦¸ à¦†à¦¸à¦¿à¦« à¦®à¦¾à¦¹à¦¿à¦° à¦•à¦¾à¦›à§‡ à¦—à¦¾à¦œà¦¾, à¦¬à¦¿à¦•à§à¦°à¦¿ à¦•à¦°à¦¤à§‡ à¦—à§‡à¦›à§‡..!ðŸ˜©",
        "- à¦†à¦¸à¦¿à¦« à¦­à¦¾à¦‡ à¦°à§‡, à¦¡à¦¾à¦•à¦¿à¦¸ à¦¨à¦¾, à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à§‡..!ðŸ˜¼",
        "- à¦¸à¦¿à¦‚à¦—à§‡à¦² à¦‡à¦­à¦¾à¦¨ à¦°à§‡ à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¨à¦¿à¦·à§‡à¦¦..!ðŸ‘½",
        "- à¦‡à¦­à¦¾à¦¨ à¦­à¦¾à¦‡ à¦°à§‡, à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡à¦“à§Ÿà¦¾ à¦†à¦—à§‡ à¦à¦•à¦Ÿà¦¾ à¦¬à¦‰ à¦¦à§‡.!ðŸ™‚"
      ];

      let filtered = responses.filter(msg => msg !== lastResponse);
      if (filtered.length === 0) filtered = responses;

      const random = filtered[Math.floor(Math.random() * filtered.length)];
      lastResponse = random;

      return api.sendMessage({ body: random }, event.threadID, event.messageID);
    }
  },

  onStart: async function() {
    console.log("âœ… goiadmin Module Loaded with Multi-UID Anti-Mention System");
  }
};
