const targetUsers = new Map();
const targetNames = new Map();
const ownerUID = ["61581502015227", "61581502015227", "61581502015227"]; // âœ… à§©à¦Ÿà¦¾ UID à¦¬à¦¸à¦¾à¦¨à§‹ à¦¹à¦²à§‹

const lines = [
  "- à¦¤à¦°à§‡ à¦¨à¦¾à§Ÿà§‡à¦• à¦¸à¦¾à¦²à¦¬à¦¾à¦² à¦–à¦¾à¦¨ à¦à¦° à¦¨à¦¾à§Ÿà¦•à¦¿ à¦¬à¦¾à¦¨à¦¾à¦®à§â€¦!ğŸ™‚",
  "-  à¦•à¦¿à¦°à§‡ à¦¤à§à¦¾à¦‡ à¦¨à¦¾à¦•à¦¿, à¦¸à¦•à¦¾à¦² à¦¬à¦¿à¦•à¦¾à¦² à§© à¦¬à§‡à¦²à¦¾, à¦®à¦°à¦¾ à¦•à§à¦¤à§à¦¤à¦¾à¦° à¦—à§ à¦–à¦¾à¦¸..?ğŸ¤®",
  "-  à¦¤à¦° à¦¡à¦¿à¦ªà¦¿ à¦¦à§‡à¦–à¦²à§‡, à¦†à¦®à¦¾à¦° à¦­à§à¦®à¦¿ à¦†à¦¸à§‡, à¦•à¦¤ à¦¬à¦¿à¦¸à¦°à¦¿ à¦“à§Ÿà¦¾à¦• à¦¥à§ â€¦!ğŸ˜…",
  "-  à¦¤à¦°à§‡ à¦¦à¦¿à§Ÿà¦¾ à¦¦à§‡à¦¹ à¦¬à§à¦¯à¦¾à¦¬à¦¸à¦¾ à¦•à¦°à¦¾à¦®à§ à¦¨à¦²à¦¾..!ğŸ¤£",
  " - à¦¤à¦°à§‡ à¦¦à§‡à¦–à¦²à§‡ à¦°à¦¾à¦— à¦‰à¦ à§‡, à¦®à¦¨ à¦šà¦¾à§Ÿ à¦¬à¦¿à¦›à¦¿ à¦¬à¦°à¦¾à¦¬à¦° à§¨à¦Ÿà¦¾ à¦²à¦¾à¦¤à§à¦¤à¦¿ à¦®à¦¾à¦°à¦¿ à¦¤à¦°..!ğŸ˜",
  "-  à¦¤à§à¦‡ à¦¯à§‡ à¦«à¦¾à¦ªà¦° à¦¬à¦¾à¦œ, à¦‡à¦‰à¦¨à§à¦¸ à¦à¦° à¦¨à§‹à¦¬à§‡à¦² à¦šà§à¦°à¦¿ à¦•à¦°à§‡ à¦¤à¦°à§‡ à¦¦à¦¿à¦¬..!ğŸ˜ª",
  "-  à¦¤à¦° à¦®à§à¦– à¦¦à§‡à¦–à¦²à§‡, à¦†à¦®à¦¾à¦¦à§‡à¦° à¦—à§à¦°à¦¾à¦®à§‡à¦° à¦²à¦¾à¦¬à§ à¦•à§à¦¤à§à¦¤à¦¾à¦° à¦®à¦¤à§‹ à¦²à¦¾à¦—à§‡...!ğŸ˜„",
  "-  à¦¤à§à¦‡ à¦—à§à¦²à¦¿à¦¸à§à¦¤à¦¾à¦¨ à¦ªà¦¥à¦¿à¦¤à¦¾à¦²à§Ÿ à¦ à¦¥à¦¾à¦•à¦¸, à¦¤à¦°à§‡ à¦¦à§‡à¦–à¦²à§‡ à¦¬à§à¦œà¦¾ à¦¯à¦¾à§Ÿ ..!â˜ ï¸",
  "-  à¦¤à§à¦‡ à¦†à¦¬à¦¾à¦¸à¦¿à¦• à¦¹à§‹à¦Ÿà§‡à¦² à¦à¦° à¦¸à¦¿à¦•à§à¦°à¦¿à¦Ÿà¦¿â€¦!ğŸ˜«",
  "- à¦¨à¦²à¦¾ à¦¤à¦° à¦¬à¦¿à¦šà¦¿ à¦¤à§‡, à¦ªà¦¾à¦°à¦®à¦¾à¦¨à¦¬à¦¿à¦• à¦¬à§à¦® à¦¨à¦¿à¦•à§à¦·à§‡à¦ª à¦•à¦°à¦¬à§‹  ..!ğŸ˜",
  "-  à¦¤à§à¦‡ à¦¯à¦¾à¦¤à§à¦°à¦¾à¦¬à¦¾à§œà¦¿ à¦“à¦­à¦¾à¦° à¦¬à§à¦°à¦¿à¦œ à¦à¦° à¦¨à¦¿à¦›à§‡ à¦¡à§‡à¦¨à§à¦¡à¦¿ à¦–à¦¾à¦¸ ..!ğŸ¤®",
  "-  à¦¤à¦° à¦¬à¦¿à¦šà¦¿ à¦®à¦¨à§‡ à¦¹à§Ÿ à¦¤à¦¿à¦¨à¦Ÿà¦¾, à¦¤à¦¾à¦‡ à¦¤à¦° à¦¬à§‡à¦¶à¦¿ à¦šà§à¦²à¦•à¦¾à¦¨à¦¿ ..!ğŸ¤¥",
  "-  à¦¤à¦° à¦šà§à¦² à¦¦à§‡à¦–à¦²à§‡, à¦†à¦®à¦—à§‹ à¦à¦‡à¦¨à§‡à¦° à¦à¦•à¦Ÿà¦¾ à¦²à§‡à¦‚à¦°à¦¾ à¦˜à§‹à§œà¦¾à¦° à¦•à¦¥à¦¾ à¦®à¦¨à§‡ à¦ªà¦°à§‡, à¦“à¦° à¦²à§‡à¦œ à¦à¦° à¦šà§à¦² à¦¤à¦° à¦®à¦¾à¦¥à¦¾à¦° à¦šà§à¦² à¦¸à§‡à¦‡à¦®..!ğŸ¤¢",
  "-  à§¨à§¦à§¨à§« à¦à¦° à¦šà¦¾à¦ªà¦¾à¦¬à¦œ à¦šà¦¾à¦ªà¦¾à¦¬à¦œ à¦•à¦¿à¦‚ à¦¤à§à¦‡..!ğŸ˜‚",
  "-  à¦šà¦¾à¦ªà¦¾ à¦¬à¦¾à¦œ, à¦•à§‡à¦¤, à¦¬à¦¸à§à¦¤à¦¿, à¦†à¦¬à¦¾à¦², à¦¬à§‹à¦•à¦¾à¦šà§‹à¦¦à¦¾, à¦—à§ à¦–à¦¾..!ğŸ’©",
  "-  à¦¤à¦°à¦¾ à¦¹à¦¾à¦Ÿà¦¾à¦° à¦¸à§à¦Ÿà¦¾à¦‡à¦² à¦¦à§‡à¦–à§‡, à¦²à§‹à¦²à¦¾ à¦¹à¦¾à¦¸ à¦à¦° à¦®à¦¤à§‹ à¦²à¦¾à¦—à§‡ ..!ğŸ™Š",
  "-  à¦¬à¦¸ à¦†à¦¸à¦¿à¦« à¦šà¦¾à¦ªà¦°à¦¿ à¦Ÿà¦¾à¦°  à¦®à§à¦–à§‡ à¦®à§à¦¤à§‡ à¦¦à§‡ à¦­à¦¾à¦‡ ..!ğŸ¤£",
  "-  à¦“à¦° à¦¸à¦¾à¦¥à§‡ à¦šà¦¿à¦²à§à¦²à¦¾à¦‡à§Ÿà¦¾ à¦®à¦œà¦¾ à¦¨à¦¾à¦‡, à¦•à¦¿à¦• à¦®à¦¾à¦° à¦“à¦°à§‡ à¦•à§‡à¦‰..!ğŸ˜†",
  "- à¦šà¦¿à¦²à§à¦²à¦¾à¦‡à¦¸ à¦¨à¦¾, à¦¤à¦° à¦®à¦¿à¦°à¦•à¦¿ à¦¬à§‡à¦®à¦¾à¦° à¦°à§‹à¦— à¦†à¦›à§‡ à¦œà¦¾à¦¨à¦¿ ..!ğŸ˜",
  "-  à¦•à¦¾à¦¨à¦¾ à¦«à§à¦•à§à¦°à§à¦¦à§à¦¦à¦¿à¦¨ à¦à¦° à¦¨à¦¾à¦¤à¦¿ à¦¤à§à¦‡ à¦šà§à¦ª à¦¥à¦¾à¦• ..!ğŸ™",
  "-  à¦®à¦¨ à¦šà¦¾à§Ÿ à¦®à¦¾à¦à§‡ à¦®à¦¾à¦à§‡ à¦¤à¦° à¦®à§à¦–à§‡ à¦®à§à¦¤à§‡ à¦¦à§‡à¦‡ ..!ğŸ¥²",
  "-  à¦¤à¦° à¦¬à¦¿à¦šà¦¿ à¦¦à¦¿à§Ÿà¦¾ à¦®à¦¾à¦°à¦¬à§‡à¦² à¦–à§‡à¦²à¦®à§, à¦Ÿà¦¾à¦¸ à¦Ÿà§à¦¸ ..!ğŸ˜",
  "-  à¦¦à§‡à¦– à¦¶à¦¾à¦²à¦¾ à¦•à§‡à¦®à¦¨à§‡ à¦•à¦¥à¦¾ à¦¬à¦²à§‡, à¦¦à§‡à¦–à¦²à§‡à¦‡ à¦¬à§‹à¦œà¦¾ à¦¯à¦¾à§Ÿ à¦“à§Ÿ à¦à¦•à¦Ÿà¦¾ à¦—à§à¦¯à¦¾..!ğŸ¤ª",
  "-  à¦šà¦¿à¦‚ à¦šà¦¾à¦‚ à¦šà§, à¦¦à§à¦§ à¦¦à¦¿à§Ÿà¦¾ à¦–à¦¾ à¦—à§ ..!ğŸ¤£",
  "-  à¦¤à¦° à¦—à§ à¦¤à§à¦‡ à¦–à¦¾ , à¦Ÿà§‡à¦¸à§à¦Ÿ à¦¨à¦¾ à¦²à¦¾à¦—à¦²à§‡ à¦²à§‡à¦¬à§ à¦¦à§‡ ..!ğŸ¤£",
  "-  à¦¤à¦° à¦Ÿà§à¦¨à¦Ÿà§à¦¨à¦¿ à¦¨à¦¾à¦‡, à¦¹à¦¿à¦œà¦°à¦¾ à¦¤à§à¦‡ à¦šà§à¦ª à¦¥à¦¾à¦• à¦­à¦¾à¦‡ ..!ğŸ¤£",
  "-  à¦•à§à¦¤à§à¦¤à¦¾à§Ÿ à¦¬à¦¾à¦œà¦¾à§Ÿ à¦¬à¦¾à¦¶à¦¿, à¦¤à¦° à¦¨à¦¾à¦¨à¦¿ à¦°à§‡ à¦¨à¦¿à§Ÿà¦¾ à¦†à¦®à¦°à¦¾ à¦¸à¦¬à¦¾à¦‡ à¦¹à¦¾à¦¸à¦¿...!ğŸ™‚",
];

module.exports = {
  config: {
    name: "roast",
    version: "2.7",
    author: "EDEN",
    countDown: 5,
    role: 0,
    shortDescription: "Mention à¦•à¦°à¦²à§‡ roast à¦•à¦°à¦¬à§‡",
    longDescription: "Roast on @user â†’ à¦“à¦‡ user à¦•à¦¿à¦›à§ à¦¬à¦²à¦²à§‡ boka à¦¦à¦¿à¦¬à§‡ | off à¦¦à¦¿à¦²à§‡ à¦¬à¦¨à§à¦§",
    category: "fun",
    guide: {
      en: "{pn} on @user\n{pn} off",
    }
  },

  onStart({ api, event, args }) {
    // âœ… à¦à¦–à¦¾à¦¨à§‡ includes à¦‡à¦‰à¦œ à¦•à¦°à¦›à¦¿
    if (!ownerUID.includes(event.senderID)) {
      return api.sendMessage(
        "-   à¦•à¦¿à¦°à§‡ à¦†à¦¬à¦¾à¦², à¦¤à§à¦‡ à¦‡à¦‰à¦¸ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à¦¿ à¦¨à¦¾...!ğŸ™‚",
        event.threadID,
        event.messageID
      );
    }

    const mentions = event.mentions || {};
    const subCmd = args[0];
    const threadID = event.threadID;

    if (subCmd === "on") {
      if (Object.keys(mentions).length === 0)
        return api.sendMessage("-  à¦¬à¦¸ à¦•à¦¾à¦•à§‡ à¦°à§‹à¦¸à§à¦Ÿ à¦•à¦°à¦¬à§‹ à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡à¦¨..!", threadID, event.messageID);

      const targetID = Object.keys(mentions)[0];
      const targetName = mentions[targetID];

      targetUsers.set(threadID, targetID);
      targetNames.set(threadID, targetName);

      return api.sendMessage(
        `ğŸ˜’ - à¦•à¦¿à¦°à§‡ à¦¬à¦¾à¦‚à¦²à¦¾ à¦¸à¦¿à¦¨à§‡à¦®à¦¾à¦° , ${targetName} - à¦¹à¦¿à¦°à§‹ à¦†à¦²à¦® à¦•à§‡à¦®à¦¨ à¦†à¦›à¦¿à¦¸â€¦?ğŸ™‚ğŸ€`,
        threadID,
        event.messageID
      );
    }

    if (subCmd === "off") {
      if (!targetUsers.has(threadID))
        return api.sendMessage("- à¦†à¦°à§‡ à¦¬à§‡à¦¡à¦¾, à¦†à¦—à§‡ à¦®à§à¦°à§à¦• à¦¹à¦¾à¦²à¦¾ à¦°à§‡ à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡..!ğŸ˜¤", threadID, event.messageID);

      const targetID = targetUsers.get(threadID);
      const nameFromMention = Object.keys(mentions).length > 0 ? mentions[Object.keys(mentions)[0]] : null;
      const targetName = nameFromMention || targetNames.get(threadID) || "targetUser";

      targetUsers.delete(threadID);
      targetNames.delete(threadID);

      return api.sendMessage(
        `- à¦®à¦—à¦¾ à¦…à¦« à¦•à¦°à¦²à¦¿ à¦•à§‡à¦¨..? (${targetName}) à¦“à¦°à§‡ à¦°à§‹à¦¸à§à¦Ÿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦²à¦¾à¦® à¦¨à¦¾..!ğŸ˜ª`,
        threadID,
        event.messageID
      );
    }

    return api.sendMessage("ğŸ¢ Use:\n- Roast On @user\n- Roast Off", threadID, event.messageID);
  },

  onChat({ api, event }) {
    const threadID = event.threadID;
    const targetID = targetUsers.get(threadID);

    // âœ… ownerUID à¦¬à¦¾à¦¦ à¦¦à¦¿à§Ÿà§‡ à¦Ÿà¦¾à¦°à§à¦—à§‡à¦Ÿ à¦°à§‹à¦¸à§à¦Ÿ à¦•à¦°à¦¬à§‡
    if (!targetID || String(event.senderID) !== String(targetID) || ownerUID.includes(event.senderID)) return;

    const line = lines[Math.floor(Math.random() * lines.length)];
    api.sendMessage(`ğŸ¢ ${line}`, threadID, event.messageID);
  }
};
