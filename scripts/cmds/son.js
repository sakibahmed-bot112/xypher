const targetUsers = new Map();
const targetNames = new Map();
const ownerUID = ["61558166309783", "61572589774495", "100027116303378"];

const lines = [
  "- à¦•à¦¾à¦°à§‡à¦¨à§à¦Ÿ à¦²à¦¾à¦—à¦¾à¦‡à§Ÿà¦¾ à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¿, à¦•à¦¾à¦¨à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾â€¦!ğŸ™‚",
  "-  à¦•à¦¿à¦°à§‡ à¦•à¦¾à¦¨à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦¤à¦°à§‡ à¦¨à¦¾ à¦•à¦°à¦›à¦¿ à¦¨à¦¾ à¦¬à§‡à¦¶à¦¿ à¦²à¦¾à¦ªà¦¾à¦‡à¦¸ à¦¨à¦¾, à¦à¦•à¦¬à¦¾à¦°à§‡ à¦§à¦‡à¦°à¦¾ à¦Ÿà¦¾à¦¨ à¦¦à¦¿à§Ÿà¦¾ à¦¤à¦° à¦®à¦¾à¦° à¦¸à¦¾à¦“à§Ÿà¦¾à¦° à¦°à¦— à¦›à¦¿à¦°à¦¾ à¦ªà§‡à¦²à¦¬ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ ğŸ¤¬",
  "-  à¦®à¦¹à¦¾ à¦†à¦•à¦¾à¦¶à§‡ à¦¤à§à¦²à§‡, à¦¤à¦° à¦®à¦¾à¦°à§‡ à§©à§©à§¬Â° à¦¤à¦¾à¦ªà¦®à¦¾à¦¤à§à¦°à¦¾à§Ÿ à¦šà§à¦¦à¦¿, à¦à¦®à¦¨ à¦­à¦¾à¦¬à§‡ à¦šà§à¦¦à¦¬à§‹ à¦¯à¦¾à¦¤à§‡ à¦¸à¦¾à¦“à§Ÿà¦¾ à¦›à¦¿à¦°à¦¾ à¦•à¦¾à¦² à¦¹à§Ÿà§‡ à¦¯à¦¾à§Ÿâ€¦!",
  "-  à¦¤à¦° à¦†à¦®à§à¦®à§ à¦•à¦¿, à¦¸à¦¾à¦“à§Ÿà¦¾à¦° à¦°à¦¸ à¦¤à¦°à§‡ à¦–à¦¾à¦“à§Ÿà¦¾à§Ÿ, à¦†à¦®à¦¾à¦° à¦®à¦¨à§‡ à¦¹à§Ÿ à¦–à¦¾à¦“à§Ÿà¦¾à§Ÿ à¦¤à¦°à§‡, à¦¤à¦¾à¦‡ à¦¤à¦° à¦®à¦¤à§‹ à¦•à¦¾à¦¨à¦•à¦¿à¦° à¦›à§‡à¦²à§‡à¦° à¦œà¦¨à§à¦®..!",
  "-à§· à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦¤à¦° à¦¬à¦¾à¦ªà§‡à¦° à¦—à¦¾à¦°à§‡ à¦¤à§à¦²à§‡, à¦¡à¦¿à¦œà§‡ à¦°à¦¿à¦®à¦¿à¦•à§à¦¸ à¦²à¦¾à¦—à¦¾à¦‡à§Ÿà¦¾ à¦šà§à¦¦à¦¿ à¦¨à¦¾à¦Ÿà¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦­à§‹à¦¦à¦¾à§Ÿ à¦–à¦¾à¦®à§à¦° à¦¦à¦¿à§Ÿà¦¾ à¦¦à§Œà¦° à¦¦à¦¿à¦®à§, à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦¬à§‹à¦¦à¦¾à§Ÿ à¦—à¦¨à§à¦§, à¦¹à¦¾à¦°à¦ªà¦¿à¦• à¦¦à¦¿à§Ÿà¦¾ à¦“à§Ÿà¦¾à¦¶ à¦•à¦°à¦¤à§‡ à¦¬à¦²à¦¿à¦¶, à¦¨à¦¾à¦¹à¦²à§‡ à¦šà§à¦¦à§‡ à¦®à¦œà¦¾ à¦ªà¦¾à¦‡ à¦¨à¦¾..!",
  "- à¦¤à¦° à¦¸à¦¾à¦®à¦¨à§‡ à¦¤à¦° à¦¬à§‹à¦¨ à¦°à§‡, à¦†à¦¹ à¦†à¦¹ à¦¬à¦²à§‡ à¦šà§à¦¦à¦¿, à¦šà§à¦¦à¦¾ à¦–à¦¾à¦‡à§Ÿà¦¾ à¦¤à¦° à¦¬à§‹à¦¨ à¦šà§‡à¦¬à¦²à¦¾ à¦¹à¦‡à§Ÿà¦¾ à¦¯à¦¾à¦¬à§‡..!",
  "- à¦†à¦¸à¦¿à¦« à¦¤à¦° à¦¬à¦¾à¦ª à¦²à¦¾à¦—à§‡, à¦¬à¦¾à¦ªà§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¬à§‡à§Ÿà¦¾à¦¦à¦¬à¦¿ à¦•à¦°à¦¸..?",
  "- à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦¯à§‡à¦Ÿà¦¾ à¦‡à¦‰à¦¸ à¦•à¦°à¦¤à¦¾à¦›à¦¸, à¦à¦‡à¦Ÿà¦¾ à¦¦à¦¿à§Ÿà¦¾ à¦¬à¦¾à¦°à¦¿ à¦¦à¦¿à§Ÿà¦¾ à¦¤à¦° à¦®à¦¾à¦° à¦¸à¦¾à¦“à§Ÿà¦¾à¦° à¦¹à¦¾à¦¡à§à¦¡à¦¿ à¦¬à§‡à¦™à§à¦—à§‡ à¦ªà¦²à¦¬à§‹ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾..!",
  "- à¦¤à¦° à¦®à¦¾à¦° à¦¸à¦¾à¦“à§Ÿà¦¾à¦° à¦°à¦¸ à¦¦à¦¿à§Ÿà¦¾, à¦¤à¦°à§‡ à¦°à¦¸à¦®à¦¾à¦²à¦¾à¦‡ à¦¬à¦¾à¦¨à¦¾à¦‡à§Ÿà¦¾ à¦–à¦¾à¦“à§Ÿà¦¾à¦®à§‹..!",
  "- à¦¤à¦° à¦¬à¦¾à¦ªà§‡à¦° à¦§à¦¨ à¦•à¦¾à¦‡à¦Ÿà§à¦Ÿà¦¾ à¦¤à¦° à¦®à¦¾à¦°à§‡, à¦¤à¦°à§‡ à¦¬à¦¿à¦°à¦¿à§Ÿà¦¾à¦¨à¦¿ à¦•à¦°à§‡ à¦–à¦“à§Ÿà¦¾à¦®à§‹..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦•à¦›à¦¿ à¦¦à§à¦§ à¦, à¦à¦®à¦¨ à¦šà¦¾à¦ª à¦¦à¦¿à¦¬à§‹ à¦•à§à¦¤à§à¦¤à¦¾à¦° à¦®à¦¤à§‹ à¦¬à¦• à¦¬à¦• à¦•à¦°à§‡ à¦•à¦¾à¦¨à§à¦¨à¦¾ à¦•à¦°à§‡ à¦¦à¦¿à¦¬à§‡..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦¬à¦¾à¦œà¦¾à¦°à§‡ à¦¨à¦¿à§Ÿà¦¾ à¦¨à¦¿à¦²à¦¾à¦®à§‡ à¦‰à¦Ÿà¦¾à¦®à§‹, à¦à¦• à¦¸à¦Ÿ à§©à§¦à§¦ à¦Ÿà¦¾à¦•à¦¾à§Ÿ à¦¸à§‡à¦² à¦¦à¦¿à¦¬ à¦†à¦®à¦¿..!",
  "- à¦¤à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨ à¦à¦° à¦¬à§‹à¦¦à¦¾à§Ÿ à¦—à¦°à¦® à¦¡à¦¿à¦® à¦¡à§‹à¦•à¦¾à¦‡à§Ÿà¦¾ à¦ªà¦¾à¦° à¦¦à¦¿à¦®à§‹, à¦¨à¦¾ à¦¡à§à¦•à¦²à§‡ à¦ªà¦¾à¦°à¦®à¦¾à¦¨à¦¬à¦¿à¦• à¦®à¦¿à¦¸à¦¾à¦‡à¦² à¦®à¦¾à¦°à¦®à§‹..!",
  "- à¦¬à¦¾à¦¬à¦¾ à¦–à¦¾à¦‡à§Ÿà¦¾ à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¿, à¦šà§à¦¦à¦¾à¦° à¦¤à¦¾à¦²à§‡ à¦¤à¦¾à¦²à§‡ à¦¤à¦° à¦¬à¦¾à¦ª à¦¨à¦¾à¦›à§‡..!",
  "- à¦¤à¦° à¦®à¦¾ à¦¬à§‹à¦¨ à§¨ à¦Ÿà¦¾ à¦°à§‡ à¦à¦•à¦¸à¦¾à¦¥à§‡, à¦¬à¦¿à¦¦à§‡à¦¶à¦¿ à¦¸à¦¾à¦¨à§à¦¡à¦¾à¦° à¦¤à§‡à¦² à¦²à¦¾à¦—à¦¾à¦‡à§Ÿà¦¾ à¦šà§à¦¦à¦¿..!",
  "- à¦†à¦—à§‡ à¦¤à¦°à§‡ à¦¬à¦²à¦›à¦¿ à¦¯à§‡ à¦¤à¦° à¦¬à¦¾à¦ª à¦†à¦¸à¦¿à¦« à¦°à§‡ à¦•à¦¿à¦›à§ à¦¬à¦²à¦¬à¦¿ à¦®à¦¾, à¦à¦•à¦¨ à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¬à§‹ à¦¸à¦¾à¦®à¦²à¦¾..!",
  "- à¦¤à¦° à¦¬à§‹à¦¨ à¦°à§‡ à¦¨à¦¿à¦¶à¦¿ à¦°à¦¾à¦¤à§‡ à¦šà§à¦¦à¦¿, à¦•à§‡à¦‰ à¦¯à¦¾à¦¤à§‡ à¦¨à¦¾ à¦¶à§à¦¨à§‡..!",
  "- à¦¤à¦° à¦¬à§‹à¦¨ à¦°à§‡ à¦œà¦¿à¦œà§à¦à§‡à¦¸ à¦•à¦°, à¦¬à§‹à¦¨ à¦†à¦¸à¦¿à¦« à¦•à§‡..? à¦ªà¦°à§‡ à¦¤à¦° à¦¬à§‹à¦¨ à¦à¦Ÿà¦¾ à¦¬à¦²à¦¬à§‡ à¦†à¦¸à¦¿à¦« à¦†à¦®à¦¾à¦° à¦¬à§‹à¦¦à¦¾ à¦¨à¦·à§à¦Ÿà¦•à¦¾à¦°à§€..!",
  "- à¦•à¦¾à¦¨à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦¬à§à¦¯à¦¾à¦¸à§à¦¸à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦¬à§à¦¸à¦•à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦•à¦¾à¦¨à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦¨à¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦šà§‡à¦¬à¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾, à¦†à¦¸à¦¿à¦« à¦¤à¦° à¦¬à¦¾à¦ª!",
  "- à¦†à¦¸à¦¿à¦« à¦¤à¦—à§‹ à¦¸à¦¬à¦¡à¦¿à¦° à¦¬à¦¾à¦ª, à¦¤à¦°à¦¾ à¦¸à¦¬ à¦†à¦¸à¦¿à¦« à¦à¦° à¦•à¦¾à¦®à¦²à¦¾ à¦¸à¦¨à§à¦¤à¦¾à¦¨, à¦¤à¦¦à§‡à¦° à¦†à¦®à§à¦®à§à¦° à¦¬à§‹à¦¦à¦¾à¦° à¦®à¦¾à¦²à¦¿à¦•..!",
  "- à¦®à§à¦•à§‡à¦¸ à¦†à¦®à§à¦¬à¦¾à¦¨à¦¿à¦° à¦•à¦¾à¦‡à¦²à§à¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§à¦²à¦¾..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à¦¾à¦° à¦­à§‹à¦¦à¦¾à§Ÿ à¦¡à§‡à¦•à§‡ à¦¯à¦¾à¦¬ à¦¦à§Œà¦° à¦¦à¦¿à§Ÿà¦¾, à¦¨à¦¡à¦¿à¦° à¦ªà§à¦¤..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦¬à§‹à¦¦à¦¾à§Ÿ, à¦ªà¦¾à¦°à¦®à¦¾à¦¨à¦¬à¦¿à¦• à¦¬à§‹à¦® à¦®à¦¾à¦°à¦®à§‹,à¦¯à¦¾à¦¤à§‡ à¦¤à¦° à¦®à¦¾à¦° à¦¬à§‹à¦¦à¦¾ à¦§à¦‚à¦¸ à¦¹à§Ÿà§‡ à¦¯à¦¾à§Ÿ..!",
  "- à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦¬à§‹à¦¦à¦¾à§Ÿ, à¦¬à¦¿à¦¦à§‡à¦¶à¦¿ à¦¶à¦¿à¦‚ à¦®à¦¾à¦› à¦šà¦¾à¦· à¦•à¦°à¦®à§‹ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾..!",
  "- à§©à§¯à§¦Â° à¦à¦¨à§à¦—à§‡à¦² à¦ à¦‰à§œà¦‡à§Ÿà¦¾ à¦‰à§œà¦¾à¦‡à§Ÿà¦¾ à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¿..!",
  // â• à¦†à¦°à§‹ à¦²à¦¾à¦‡à¦¨ à¦¯à§‹à¦— à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¦¨
];

module.exports = {
  config: {
    name: "son",
    version: "2.7",
    author: "- ğ€ğ’ğˆğ…  âœˆï¸ ğŸ¢",
    countDown: 5,
    role: 0,
    shortDescription: "Mention à¦•à¦°à¦²à§‡ boka à¦¦à¦¿à¦¬à§‡",
    longDescription: "son on @user â†’ à¦“à¦‡ user à¦•à¦¿à¦›à§ à¦¬à¦²à¦²à§‡ boka à¦¦à¦¿à¦¬à§‡ | off à¦¦à¦¿à¦²à§‡ à¦¬à¦¨à§à¦§",
    category: "fun",
    guide: {
      en: "{pn} on @user\n{pn} off",
    }
  },

  onStart({ api, event, args }) {
    if (!ownerUID.includes(event.senderID)) {
      return api.sendMessage(
        "- à¦•à¦¿à¦°à§‡ à¦¨à¦²à¦¾ à¦à¦Ÿà¦¾ à¦¤à¦°, à¦¬à¦¾à¦ª à¦†à¦¸à¦¿à¦« à¦à¦° à¦•à¦®à¦¾à¦¨à§à¦¡..!ğŸ™‚",
        event.threadID,
        event.messageID
      );
    }

    const mentions = event.mentions || {};
    const subCmd = args[0];
    const threadID = event.threadID;

    if (subCmd === "on") {
      if (Object.keys(mentions).length === 0)
        return api.sendMessage("- à¦†à¦¸à¦¿à¦« à¦•à§‹à¦¨ à¦•à¦¾à¦¨à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦°à§‡ à¦šà§à¦¦à¦¬à§‹ à¦®à§‡à¦¨à¦¶à¦¨ à¦•à¦°..!", threadID, event.messageID);

      const targetID = Object.keys(mentions)[0];
      const targetName = mentions[targetID];

      targetUsers.set(threadID, targetID);
      targetNames.set(threadID, targetName);

      return api.sendMessage(
        `ğŸ˜’ - à¦à¦‡ à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¿ , ${targetName} à¦•à§‡à¦®à¦¨ à¦†à¦à¦šà¦¿à¦¸â€¦?ğŸ™‚ğŸ€`,
        threadID,
        event.messageID
      );
    }

    if (subCmd === "off") {
      if (!targetUsers.has(threadID))
        return api.sendMessage("- à¦†à¦¸à¦¿à¦« à¦®à¦¾à¦‚à¦—à§‡à¦° à¦¨à¦¾à¦¤à¦¿, à¦†à¦—à§‡ à¦¤à¦° à¦ªà§‹à¦²à¦¾ à¦°à§‡ à¦®à§‡à¦¨à¦¶à¦¨ à¦¦à§‡..!ğŸ˜¤", threadID, event.messageID);

      const targetID = targetUsers.get(threadID);
      const nameFromMention = Object.keys(mentions).length > 0 ? mentions[Object.keys(mentions)[0]] : null;
      const targetName = nameFromMention || targetNames.get(threadID) || "targetUser";

      targetUsers.delete(threadID);
      targetNames.delete(threadID);

      return api.sendMessage(
        `- à¦¬à§‹à¦•à¦¾à¦šà§‹à¦¦à¦¾ à¦†à¦¸à¦¿à¦« à¦…à¦« à¦•à¦°à¦²à¦¿ à¦•à§‡à¦¨..? (${targetName}) à¦“à¦°à§‡ à¦šà§à¦¦à¦¤à§‡ à¦ªà¦¾à¦°à¦²à¦¾à¦® à¦¨à¦¾..!ğŸ˜ª`,
        threadID,
        event.messageID
      );
    }

    return api.sendMessage("ğŸ¢ Use:\n- son on @user\n- son off", threadID, event.messageID);
  },

  onChat({ api, event }) {
    const threadID = event.threadID;
    const targetID = targetUsers.get(threadID);

    if (!targetID || String(event.senderID) !== String(targetID) || ownerUID.includes(event.senderID)) return;

    const line = lines[Math.floor(Math.random() * lines.length)];
    api.sendMessage(`ğŸ¢ ${line}`, threadID, event.messageID);
  }
};
